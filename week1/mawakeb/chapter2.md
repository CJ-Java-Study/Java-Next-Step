
# 2장 문자열 계산기 구현을 통한 테스트와 리팩토링

#### main() 메소드를 활용한 테스트의 문제점
- 그럼에도 불구하고 main()으로 테스트하면 프로덕션의 모든 테스트코드를 매번 모두 실행하거나 주석처리를 해줘야하고 콘솔에 출력되는 값을 직접 확인해야한다

#### JUnit 활용
- 단위 테스트 프레임워크
- `@Test` annotation
- `assertEquals(expected, actual)` : convention 상 expected
- `@Before` annotation : 사전 세팅으로 중복코드 제거
  </br>→ `@RunWith`, `@Rule` 등 초기화된 객체에 접근 가능
- `@After` annoation : 각 테스트 케이스 후 후처리
- `@Before`, `@After` 각 테스트 메소드 전후로 재실행됨
   </br>→ 각 케이스별로 독립실행 가능

#### 깔끔한 코드 작성 TIP
- 각 메서드는 하나의 책임을 가진다
- indent 레벨 1 이하로 유지
- else 사용 X
- 정규표현식 잘 활용하기
- 코드 작성 → 테스트 → 리팩토링 순: 테스트코드가 있으므로 부담없이 리팩토링이 가능하다!

#### Test Driven Development (TDD)
- 테스트 케이스를 먼저 작성하고 테스트를 충족하는 application 코드 작성
- 처음에는 의존성이 낮은 알고리즘, 유틸리티성 코드로 연습하기

#### 느낀 점
- **리팩토링은 어디까지 진행해야 하는가?**
책에서는 극단적으로 각 줄을 다른 메서드로 분리하여 가독성이 높아졌다고 말하지만 큰 시스템을 운영하는 입장에서는 호출하는 메서드가 많으면 오히려 로직을 확인하고 플로우를 따라가기 어렵다. 개인적으로는 정말 극단적으로 리팩토링을 진행하더라도 처음에 작성했던 코드 이상 쪼개지면 가독성이 떨어진다고 생각한다. 
